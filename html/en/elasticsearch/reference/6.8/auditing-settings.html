<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Auditing Security Settings
        | Elasticsearch Reference [6.8]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [6.8]" /><link rel="up" href="configuring-security.html" title="Configuring security in Elasticsearch" /><link rel="prev" href="security-files.html" title="Security files" /><link rel="next" href="setup-xpack-client.html" title="Configuring X-Pack Java Clients" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.8" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="6.8" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.8]
    </a></span> » <span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span> » <span class="breadcrumb-link"><a href="configuring-security.html">Configuring security in Elasticsearch</a></span> » <span class="breadcrumb-node">Auditing Security Settings</span></div><div class="navheader"><span class="prev"><a href="security-files.html">
              « 
              Security files</a>
           
        </span><span class="next">
           
          <a href="setup-xpack-client.html">Configuring X-Pack Java Clients
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="auditing-settings"></a>Auditing Security Settings<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/settings/audit-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>All of these settings can be added to the <code class="literal">elasticsearch.yml</code> configuration
file. For more information, see
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.8/auditing.html" target="_top">Auditing Security Events</a>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="general-audit-settings"></a>General Auditing Settings<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/settings/audit-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.security.audit.enabled</code></span></dt><dd>Set to <code class="literal">true</code> to enable auditing on the node. The default value is <code class="literal">false</code>.</dd><dt><span class="term"><code class="literal">xpack.security.audit.outputs</code></span></dt><dd><p class="simpara">Specifies where audit logs are output. For example: <code class="literal">[ index, logfile ]</code>. The
default value is <code class="literal">logfile</code>, which puts the auditing events in a dedicated
file named <code class="literal">&lt;clustername&gt;_audit.log</code> on each node.</p><p class="simpara">You can also specify <code class="literal">index</code>, which puts the auditing events in an Elasticsearch index
that is prefixed with <code class="literal">.security_audit_log</code>. The index can reside on the same
cluster or a separate cluster.
<span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. 
  The outputs setting will be removed in 7.0 as there will only be one supported output type (<code class="literal">logfile</code>). Users who wish to store their audit information in an Elasticsearch index should write to the log file output, and a use a file ingestion component to index it into Elasticsearch.
</span></span>
</p><p class="simpara">For backwards compatibility reasons, if you use the logfile output type, a
<code class="literal">&lt;clustername&gt;_access.log</code> file is also created. It contains the same
information, but it uses the older (pre-6.5.0) formatting style.
If the backwards compatible format is not required, it should be disabled.
To do that, change its logger level to <code class="literal">off</code> in the <code class="literal">log4j2.properties</code> file.
For more information, see <a class="xref" href="logging.html#configuring-logging-levels" title="Configuring logging levels">Configuring logging levels</a>.</p><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p>If the index is unavailable, it is possible for auditing events to
be lost. The <code class="literal">index</code> output type should therefore be used in conjunction with
the <code class="literal">logfile</code> output type and the latter should be the official record of events.
This unreliability is an important reason for why the <code class="literal">index</code> output type was
deprecated in 6.7.0 and will be removed in 7.0.</p></div></div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="event-audit-settings"></a>Audited Event Settings<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/settings/audit-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The events and some other information about what gets logged can be
controlled by using the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.security.audit.logfile.events.include</code></span></dt><dd>Specifies which events to include in the auditing output. The default value is:
<code class="literal">access_denied, access_granted, anonymous_access_denied, authentication_failed, connection_denied, tampered_request, run_as_denied, run_as_granted</code>.</dd><dt><span class="term"><code class="literal">xpack.security.audit.logfile.events.exclude</code></span></dt><dd>Excludes the specified events from the output. By default, no events are
excluded.</dd><dt><span class="term"><code class="literal">xpack.security.audit.logfile.events.emit_request_body</code></span></dt><dd><p class="simpara">Specifies whether to include the request body from REST requests on certain
event types such as <code class="literal">authentication_failed</code>. The default value is <code class="literal">false</code>.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>No filtering is performed when auditing, so sensitive data may be
audited in plain text when including the request body in audit events.</p></div></div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="node-audit-settings"></a>Local Node Info Settings<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/settings/audit-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.security.audit.logfile.emit_node_name</code></span></dt><dd>Specifies whether to include the <a class="link" href="node.name.html" title="node.name">node name</a> as a field in
each audit event.
The default value is <code class="literal">true</code>.</dd><dt><span class="term"><code class="literal">xpack.security.audit.logfile.emit_node_host_address</code></span></dt><dd>Specifies whether to include the node’s IP address as a field in each audit event.
The default value is <code class="literal">false</code>.</dd><dt><span class="term"><code class="literal">xpack.security.audit.logfile.emit_node_host_name</code></span></dt><dd>Specifies whether to include the node’s host name as a field in each audit event.
The default value is <code class="literal">false</code>.</dd><dt><span class="term"><code class="literal">xpack.security.audit.logfile.emit_node_id</code></span></dt><dd>Specifies whether to include the node id as a field in each audit event.
This is available for the new format only. That is to say, this information
does not exist in the <code class="literal">&lt;clustername&gt;_access.log</code> file.
Unlike <a class="link" href="node.name.html" title="node.name">node name</a>, whose value might change if the administrator
changes the setting in the config file, the node id will persist across cluster
restarts and the administrator cannot change it.
The default value is <code class="literal">true</code>.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="audit-event-ignore-policies"></a>Audit Logfile Event Ignore Policies<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/settings/audit-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>These settings affect the <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.8/audit-log-output.html#audit-log-ignore-policy" target="_top">ignore policies</a>
that enable fine-grained control over which audit events are printed to the log file.
All of the settings with the same policy name combine to form a single policy.
If an event matches all of the conditions for a specific policy, it is ignored
and not printed.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.security.audit.logfile.events.ignore_filters.&lt;policy_name&gt;.users</code></span></dt><dd>A list of user names or wildcards. The specified policy will
not print audit events for users matching these values.</dd><dt><span class="term"><code class="literal">xpack.security.audit.logfile.events.ignore_filters.&lt;policy_name&gt;.realms</code></span></dt><dd>A list of authentication realm names or wildcards. The specified policy will
not print audit events for users in these realms.</dd><dt><span class="term"><code class="literal">xpack.security.audit.logfile.events.ignore_filters.&lt;policy_name&gt;.roles</code></span></dt><dd>A list of role names or wildcards. The specified policy will
not print audit events for users that have these roles. If the user has several
roles, some of which are <span class="strong strong"><strong>not</strong></span> covered by the policy, the policy will
<span class="strong strong"><strong>not</strong></span> cover this event.</dd><dt><span class="term"><code class="literal">xpack.security.audit.logfile.events.ignore_filters.&lt;policy_name&gt;.indices</code></span></dt><dd>A list of index names or wildcards. The specified policy will
not print audit events when all the indices in the event match
these values. If the event concerns several indices, some of which are
<span class="strong strong"><strong>not</strong></span> covered by the policy, the policy will <span class="strong strong"><strong>not</strong></span> cover this event.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="index-audit-settings"></a>Audit Log Indexing Configuration Settings<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/settings/audit-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. 
  <code class="literal">xpack.security.audit.index</code> settings namespace refers to the <code class="literal">index</code> audit output type which is deprecated and will be removed in 7.0
</span></span>
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.security.audit.index.bulk_size</code></span></dt><dd>Controls how many audit events are batched into a single write. The default
value is <code class="literal">1000</code>. <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
</dd><dt><span class="term"><code class="literal">xpack.security.audit.index.flush_interval</code></span></dt><dd>Controls how often buffered events are flushed to the index. The default value
is <code class="literal">1s</code>. <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
</dd><dt><span class="term"><code class="literal">xpack.security.audit.index.rollover</code></span></dt><dd>Controls how often to roll over to a new index: <code class="literal">hourly</code>, <code class="literal">daily</code>, <code class="literal">weekly</code>, or
<code class="literal">monthly</code>. The default value is <code class="literal">daily</code>. <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
</dd><dt><span class="term"><code class="literal">xpack.security.audit.index.events.include</code></span></dt><dd>Specifies the audit events to be indexed. The default value is
<code class="literal">anonymous_access_denied, authentication_failed, realm_authentication_failed, access_granted, access_denied, tampered_request, connection_granted, connection_denied, run_as_granted, run_as_denied</code>.
See <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.8/audit-event-types.html" target="_top">Audit Entry Types</a> for the
complete list. <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
</dd><dt><span class="term"><code class="literal">xpack.security.audit.index.events.exclude</code></span></dt><dd>Excludes the specified auditing events from indexing. By default, no events are
excluded. <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
</dd><dt><span class="term"><code class="literal">xpack.security.audit.index.events.emit_request_body</code></span></dt><dd>Specifies whether to include the request body from REST requests on certain
event types such as <code class="literal">authentication_failed</code>. The default value is <code class="literal">false</code>. <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
</dd><dt><span class="term"><code class="literal">xpack.security.audit.index.settings</code></span></dt><dd><p class="simpara">Specifies settings for the indices that the events are stored in. For example,
the following configuration sets the number of shards and replicas to 1 for the
audit indices: <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.security.audit.index.settings:
  index:
    number_of_shards: 1
    number_of_replicas: 1</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>These settings apply to the local audit indices, as well as to the
<a class="link" href="auditing-settings.html#remote-audit-settings" title="Remote Audit Log Indexing Configuration Settings">remote audit indices</a>, but only if the remote cluster
does <span class="strong strong"><strong>not</strong></span> have security features enabled or the Elasticsearch versions are different.
If the remote cluster has security features enabled and the versions coincide,
the settings for the audit indices there will take precedence,
even if they are unspecified (i.e. left to defaults).</p></div></div></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="remote-audit-settings"></a>Remote Audit Log Indexing Configuration Settings<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/settings/audit-settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. 
  <code class="literal">xpack.security.audit.index</code> settings namespace refers to the <code class="literal">index</code> audit output type which is deprecated and will be removed in 7.0
</span></span>
</p><p>To index audit events to a remote Elasticsearch cluster, you configure the following
<code class="literal">xpack.security.audit.index.client</code> settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.security.audit.index.client.hosts</code></span></dt><dd>Specifies a comma-separated list of <code class="literal">host:port</code> pairs. These hosts should be
nodes in the remote cluster. If you are using default values for the
<a class="link" href="modules-network.html#common-network-settings" title="Commonly Used Network Settings"><code class="literal">transport.port</code></a> setting, you can omit the
<code class="literal">port</code> value. Otherwise, it must match the <code class="literal">transport.port</code> setting. <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
</dd><dt><span class="term"><code class="literal">xpack.security.audit.index.client.cluster.name</code></span></dt><dd>Specifies the name of the remote cluster. <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
</dd><dt><span class="term"><code class="literal">xpack.security.audit.index.client.xpack.security.user</code></span></dt><dd>Specifies the <code class="literal">username:password</code> pair that is used to authenticate with the
remote cluster. This user must have authority to create the <code class="literal">.security-audit</code>
index on the remote cluster. <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
</dd></dl></div><p>If the remote Elasticsearch cluster has Transport Layer Security (TLS/SSL) enabled, you
must set the following setting to <code class="literal">true</code>:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.security.audit.index.client.xpack.security.transport.ssl.enabled</code></span></dt><dd>Used to enable or disable TLS/SSL for the transport client that forwards audit
logs to the remote cluster. The default is <code class="literal">false</code>. <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
</dd></dl></div><p>You must also specify the information necessary to access certificates. See
<a class="xref" href="security-settings.html#auditing-tls-ssl-settings" title="Auditing TLS/SSL Settings">Auditing TLS/SSL Settings</a>.</p><p>You can pass additional settings to the remote client by specifying them in the
<code class="literal">xpack.security.audit.index.client</code> namespace. <span class="deprecated">
      [<span class="version">6.7.0</span>]
      <span class="detail">Deprecated in 6.7.0. </span></span>
 For example,
you can add <a class="link" href="modules-transport.html" title="Transport">transport settings</a> and
<a class="link" href="modules-network.html#tcp-settings" title="Advanced TCP Settings">advanced TCP settings</a> in that namespace. To allow the remote
client to discover all of the nodes in the remote cluster you can specify the
<code class="literal">client.transport.sniff</code> setting:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.security.audit.index.client.transport.sniff: true</pre></div></div></div><div class="navfooter"><span class="prev"><a href="security-files.html">
              « 
              Security files</a>
           
        </span><span class="next">
           
          <a href="setup-xpack-client.html">Configuring X-Pack Java Clients
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
