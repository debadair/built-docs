<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>elasticsearch-certutil
        | Elasticsearch Reference [6.8]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [6.8]" /><link rel="up" href="commands.html" title="Command line tools" /><link rel="prev" href="certgen.html" title="elasticsearch-certgen" /><link rel="next" href="migrate-tool.html" title="elasticsearch-migrate" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.8" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="6.8" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.8]
    </a></span> » <span class="breadcrumb-link"><a href="commands.html">Command line tools</a></span> » <span class="breadcrumb-node">elasticsearch-certutil</span></div><div class="navheader"><span class="prev"><a href="certgen.html">
              « 
              elasticsearch-certgen</a>
           
        </span><span class="next">
           
          <a href="migrate-tool.html">elasticsearch-migrate
               »
            </a></span></div><div class="xpack chapter"><div class="titlepage"><div><div><h2 class="title"><a id="certutil"></a>elasticsearch-certutil<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/commands/certutil.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>The <code class="literal">elasticsearch-certutil</code> command simplifies the creation of certificates for
use with Transport Layer Security (TLS) in the Elastic Stack.</p><h3><a id="_synopsis_2"></a>Synopsis<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/commands/certutil.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="pre_wrapper"><pre class="programlisting prettyprint lang-shell">bin/elasticsearch-certutil
(
(ca [--ca-dn &lt;name&gt;] [--days &lt;n&gt;] [--pem])

| (cert ([--ca &lt;file_path&gt;] | [--ca-cert &lt;file_path&gt; --ca-key &lt;file_path&gt;])
[--ca-dn &lt;name&gt;] [--ca-pass &lt;password&gt;] [--days &lt;n&gt;]
[--dns &lt;domain_name&gt;] [--in &lt;input_file&gt;] [--ip &lt;ip_addresses&gt;]
[--keep-ca-key] [--multiple] [--name &lt;file_name&gt;] [--pem])

| (csr [--dns &lt;domain_name&gt;] [--in &lt;input_file&gt;] [--ip &lt;ip_addresses&gt;]
[--name &lt;file_name&gt;])

[-E &lt;KeyValuePair&gt;] [--keysize &lt;bits&gt;] [--out &lt;file_path&gt;]
[--pass &lt;password&gt;]
)
[-h, --help] ([-s, --silent] | [-v, --verbose])</pre></div><h3><a id="_description_99"></a>Description<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/commands/certutil.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>You can specify one of the following modes: <code class="literal">ca</code>, <code class="literal">cert</code>, <code class="literal">csr</code>. The
<code class="literal">elasticsearch-certutil</code> command also supports a silent mode of operation to
enable easier batch operations.</p><h4><a id="certutil-ca"></a>CA mode<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/commands/certutil.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The <code class="literal">ca</code> mode generates a new certificate authority (CA). By default, it
produces a single PKCS#12 output file, which holds the CA certificate and the
private key for the CA. If you specify the <code class="literal">--pem</code> parameter, the command
generates a zip file, which contains the certificate and private key in PEM
format.</p><p>You can subsequently use these files as input for the <code class="literal">cert</code> mode of the command.</p><h4><a id="certutil-cert"></a>CERT mode<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/commands/certutil.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The <code class="literal">cert</code> mode generates X.509 certificates and private keys. By default, it
produces a single certificate and key for use on a single instance.</p><p>To generate certificates and keys for multiple instances, specify the
<code class="literal">--multiple</code> parameter, which prompts you for details about each instance.
Alternatively, you can use the <code class="literal">--in</code> parameter to specify a YAML file that
contains details about the instances.</p><p>An instance is any piece of the Elastic Stack that requires a TLS or SSL
certificate. Depending on your configuration, Elasticsearch, Logstash, Kibana, and Beats
might all require a certificate and private key. The minimum required
information for an instance is its name, which is used as the common name for
the certificate. The instance name can be a hostname value or a full
distinguished name. If the instance name would result in an invalid file or
directory name, you must also specify a file name in the <code class="literal">--name</code> command
parameter or in the <code class="literal">filename</code> field in an input YAML file.</p><p>You can optionally provide IP addresses or DNS names for each instance. If
neither IP addresses nor DNS names are specified, the Elastic stack products
cannot perform hostname verification and you might need to configure the
<code class="literal">verification_mode</code> security setting to <code class="literal">certificate</code> only. For more information
about this setting, see <a class="xref" href="security-settings.html" title="Security settings in Elasticsearch">Security settings</a>.</p><p>All certificates that are generated by this command are signed by a CA. You can
provide your own CA with the <code class="literal">--ca</code> or <code class="literal">--ca-cert</code> parameters. Otherwise, the
command automatically generates a new CA for you. For more information about
generating a CA, see the <a class="link" href="certutil.html#certutil-ca" title="CA mode">CA mode of this command</a>.</p><p>By default, the <code class="literal">cert</code> mode produces a single PKCS#12 output file which holds
the instance certificate, the instance private key, and the CA certificate. If
you specify the <code class="literal">--pem</code> parameter, the command generates PEM formatted
certificates and keys and packages them into a zip file.
If you specify the <code class="literal">--keep-ca-key</code>, <code class="literal">--multiple</code> or <code class="literal">--in</code> parameters,
the command produces a zip file containing the generated certificates and keys.</p><h4><a id="certutil-csr"></a>CSR mode<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/commands/certutil.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The <code class="literal">csr</code> mode generates certificate signing requests (CSRs) that you can send
to a trusted certificate authority to obtain signed certificates. The signed
certificates must be in PEM or PKCS#12 format to work with Elasticsearch
security features.</p><p>By default, the command produces a single CSR for a single instance.</p><p>To generate CSRs for multiple instances, specify the <code class="literal">--multiple</code> parameter,
which prompts you for details about each instance. Alternatively, you can use
the <code class="literal">--in</code> parameter to specify a YAML file that contains details about the
instances.</p><p>The <code class="literal">csr</code> mode produces a single zip file which contains the CSRs and the
private keys for each instance. Each CSR is provided as a standard PEM
encoding of a PKCS#10 CSR. Each key is provided as a PEM encoding of an RSA
private key.</p><h3><a id="_parameters_12"></a>Parameters<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/commands/certutil.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">ca</code></span></dt><dd>Specifies to generate a new local certificate authority (CA). This
parameter cannot be used with the <code class="literal">csr</code> or <code class="literal">cert</code> parameters.</dd><dt><span class="term"><code class="literal">cert</code></span></dt><dd>Specifies to generate new X.509 certificates and keys.
This parameter cannot be used with the <code class="literal">csr</code> or <code class="literal">ca</code> parameters.</dd><dt><span class="term"><code class="literal">csr</code></span></dt><dd>Specifies to generate certificate signing requests. This parameter
cannot be used with the <code class="literal">ca</code> or <code class="literal">cert</code> parameters.</dd><dt><span class="term"><code class="literal">--ca &lt;file_path&gt;</code></span></dt><dd>Specifies the path to an existing CA key pair
(in PKCS#12 format). This parameter cannot be used with the <code class="literal">ca</code> or <code class="literal">csr</code> parameters.</dd><dt><span class="term"><code class="literal">--ca-cert &lt;file_path&gt;</code></span></dt><dd>Specifies the path to an existing CA certificate (in
PEM format). You must also specify the <code class="literal">--ca-key</code> parameter. The <code class="literal">--ca-cert</code>
parameter cannot be used with the <code class="literal">ca</code> or <code class="literal">csr</code> parameters.</dd><dt><span class="term"><code class="literal">--ca-dn &lt;name&gt;</code></span></dt><dd>Defines the <span class="emphasis"><em>Distinguished Name</em></span> (DN) that is used for the
generated CA certificate. The default value is
<code class="literal">CN=Elastic Certificate Tool Autogenerated CA</code>. This parameter cannot be used
with the <code class="literal">csr</code> parameter.</dd><dt><span class="term"><code class="literal">--ca-key &lt;file_path&gt;</code></span></dt><dd>Specifies the path to an existing CA private key (in
PEM format). You must also specify the <code class="literal">--ca-cert</code> parameter. The <code class="literal">--ca-key</code>
parameter cannot be used with the <code class="literal">ca</code> or <code class="literal">csr</code> parameters.</dd><dt><span class="term"><code class="literal">--ca-pass &lt;password&gt;</code></span></dt><dd>Specifies the password for an existing CA private key
or the generated CA private key. This parameter cannot be used with the <code class="literal">ca</code> or
<code class="literal">csr</code> parameters.</dd><dt><span class="term"><code class="literal">--days &lt;n&gt;</code></span></dt><dd>Specifies an integer value that represents the number of days the
generated certificates are valid. The default value is <code class="literal">1095</code>. This parameter
cannot be used with the <code class="literal">csr</code> parameter.</dd><dt><span class="term"><code class="literal">--dns &lt;domain_name&gt;</code></span></dt><dd>Specifies a comma-separated list of DNS names. This
parameter cannot be used with the <code class="literal">ca</code> parameter.</dd><dt><span class="term"><code class="literal">-E &lt;KeyValuePair&gt;</code></span></dt><dd>Configures a setting.</dd><dt><span class="term"><code class="literal">-h, --help</code></span></dt><dd>Returns all of the command parameters.</dd><dt><span class="term"><code class="literal">--in &lt;input_file&gt;</code></span></dt><dd>Specifies the file that is used to run in silent mode. The
input file must be a YAML file. This parameter cannot be used with the <code class="literal">ca</code>
parameter.</dd><dt><span class="term"><code class="literal">--ip &lt;IP_addresses&gt;</code></span></dt><dd>Specifies a comma-separated list of IP addresses. This
parameter cannot be used with the <code class="literal">ca</code> parameter.</dd><dt><span class="term"><code class="literal">--keep-ca-key</code></span></dt><dd>When running in <code class="literal">cert</code> mode with an automatically-generated
CA, specifies to retain the CA private key for future use.</dd><dt><span class="term"><code class="literal">--keysize &lt;bits&gt;</code></span></dt><dd>Defines the number of bits that are used in generated RSA keys. The default
value is <code class="literal">2048</code>.</dd><dt><span class="term"><code class="literal">--multiple</code></span></dt><dd>Specifies to generate files for multiple instances. This parameter cannot be
used with the <code class="literal">ca</code> parameter.</dd><dt><span class="term"><code class="literal">--name &lt;file_name&gt;</code></span></dt><dd>Specifies the name of the generated certificate. This parameter cannot be used
with the <code class="literal">ca</code> parameter.</dd><dt><span class="term"><code class="literal">--out &lt;file_path&gt;</code></span></dt><dd>Specifies a path for the output files.</dd><dt><span class="term"><code class="literal">--pass &lt;password&gt;</code></span></dt><dd><p class="simpara">Specifies the password for the generated private keys.</p><p class="simpara">Keys stored in PKCS#12 format are always password protected, however,
this password may be <span class="emphasis"><em>blank</em></span>. If you want to specify a blank password
without a prompt, use <code class="literal">--pass ""</code> (with no <code class="literal">=</code>) on the command line.</p><p class="simpara">Keys stored in PEM format are password protected only if the
<code class="literal">--pass</code> parameter is specified. If you do not supply an argument for the
<code class="literal">--pass</code> parameter, you are prompted for a password.
Encrypted PEM files do not support blank passwords (if you do not
wish to password-protect your PEM keys, then do not specify
<code class="literal">--pass</code>).</p></dd><dt><span class="term"><code class="literal">--pem</code></span></dt><dd>Generates certificates and keys in PEM format instead of PKCS#12. This
parameter cannot be used with the <code class="literal">csr</code> parameter.</dd><dt><span class="term"><code class="literal">-s, --silent</code></span></dt><dd>Shows minimal output.</dd><dt><span class="term"><code class="literal">-v, --verbose</code></span></dt><dd>Shows verbose output.</dd></dl></div><h3><a id="_examples_118"></a>Examples<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/commands/certutil.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The following command generates a CA certificate and private key in PKCS#12
format:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">bin/elasticsearch-certutil ca</pre></div><p>You are prompted for an output filename and a password. Alternatively, you can
specify the <code class="literal">--out</code> and <code class="literal">--pass</code> parameters.</p><p>You can then generate X.509 certificates and private keys by using the new
CA. For example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">bin/elasticsearch-certutil cert --ca elastic-stack-ca.p12</pre></div><p>You are prompted for the CA password and for an output filename and password.
Alternatively, you can specify the <code class="literal">--ca-pass</code>, <code class="literal">--out</code>, and <code class="literal">--pass</code> parameters.</p><p>By default, this command generates a file called <code class="literal">elastic-certificates.p12</code>,
which you can copy to the relevant configuration directory for each Elastic
product that you want to configure. For more information, see
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/6.8/ssl-tls.html" target="_top">Setting Up TLS on a Cluster</a>.</p><h4><a id="certutil-silent"></a>Using <code class="literal">elasticsearch-certutil</code> in Silent Mode<a href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/commands/certutil.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>To use the silent mode of operation, you must create a YAML file that contains
information about the instances. It must match the following format:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">instances:
  - name: "node1" <a id="CO560-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    ip: <a id="CO560-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
      - "192.0.2.1"
    dns: <a id="CO560-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
      - "node1.mydomain.com"
  - name: "node2"
    ip:
      - "192.0.2.2"
      - "198.51.100.1"
  - name: "node3"
  - name: "node4"
    dns:
      - "node4.mydomain.com"
      - "node4.internal"
  - name: "CN=node5,OU=IT,DC=mydomain,DC=com"
    filename: "node5" <a id="CO560-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO560-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>The name of the instance. This can be a simple string value or can be a
Distinguished Name (DN). This is the only required field.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO560-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>An optional array of strings that represent IP Addresses for this instance.
Both IPv4 and IPv6 values are allowed. The values are added as Subject
Alternative Names.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO560-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>An optional array of strings that represent DNS names for this instance.
The values are added as Subject Alternative Names.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO560-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>The filename to use for this instance. This name is used as the name of the
directory that contains the instance’s files in the output. It is also used in
the names of the files within the directory. This filename should not have an
extension. Note: If the <code class="literal">name</code> provided for the instance does not represent a
valid filename, then the <code class="literal">filename</code> field must be present.</p></td></tr></table></div><p>When your YAML file is ready, you can use the <code class="literal">elasticsearch-certutil</code> command
to generate certificates or certificate signing requests. Simply use the <code class="literal">--in</code>
parameter to specify the location of the file. For example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">bin/elasticsearch-certutil cert --silent --in instances.yml --out test1.zip --pass testpassword</pre></div><p>This command generates a compressed <code class="literal">test1.zip</code> file. After you decompress the
output file, there is a directory for each instance that was listed in the
<code class="literal">instances.yml</code> file. Each instance directory contains a single PKCS#12 (<code class="literal">.p12</code>)
file, which contains the instance certificate, instance private key, and CA
certificate.</p><p>You an also use the YAML file to generate certificate signing requests. For
example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">bin/elasticsearch-certutil csr --silent --in instances.yml --out test2.zip --pass testpassword</pre></div><p>This command generates a compressed file, which contains a directory for each
instance. Each instance directory contains a certificate signing request
(<code class="literal">*.csr</code> file) and private key (<code class="literal">*.key</code> file).</p></div><div class="navfooter"><span class="prev"><a href="certgen.html">
              « 
              elasticsearch-certgen</a>
           
        </span><span class="next">
           
          <a href="migrate-tool.html">elasticsearch-migrate
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
