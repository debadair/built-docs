<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Operators: Array
        | Painless Scripting Language [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Painless Scripting Language [master]" /><link rel="up" href="painless-lang-spec.html" title="Painless Language Specification" /><link rel="prev" href="painless-operators-reference.html" title="Operators: Reference" /><link rel="next" href="painless-statements.html" title="Statements" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Painless/master" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="master" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Painless Scripting Language
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="painless-lang-spec.html">Painless Language Specification</a></span> » <span class="breadcrumb-node">Operators: Array</span></div><div class="navheader"><span class="prev"><a href="painless-operators-reference.html">
              « 
              Operators: Reference</a>
           
        </span><span class="next">
           
          <a href="painless-statements.html">Statements
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="painless-operators-array"></a>Operators: Array<a href="https://github.com/elastic/elasticsearch/edit/master/docs/painless/painless-lang-spec/painless-operators-array.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="array-initialization-operator"></a>Array Initialization<a href="https://github.com/elastic/elasticsearch/edit/master/docs/painless/painless-lang-spec/painless-operators-array.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Use the <code class="literal">array initialization operator '[] {}'</code> to allocate a single-dimensional
<a class="link" href="painless-types.html#array-type" title="Array Type">array type</a> instance to the heap with a set of pre-defined
elements. Each value used to initialize an element in the array type instance is
cast to the specified element type value upon insertion. The order of specified
values is maintained.</p><p><span class="strong strong"><strong>Errors</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">If a value is not castable to the specified type value.</li></ul></div><p><span class="strong strong"><strong>Grammar</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">array_initialization: 'new' TYPE '[' ']' '{' expression_list '}'
                    | 'new' TYPE '[' ']' '{' '}';
expression_list: expression (',' expression);</pre></div><p><span class="strong strong"><strong>Example:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">Array initialization with static values.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Painless">int[] x = new int[] {1, 2, 3}; <a id="CO144-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO144-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int[] x</code>;
allocate <code class="literal">1-d int array</code> instance with <code class="literal">length [3]</code>
        → <code class="literal">1-d int array reference</code>;
store <code class="literal">int 1</code> to <code class="literal">index [0]</code> of <code class="literal">1-d int array reference</code>;
store <code class="literal">int 2</code> to <code class="literal">index [1]</code> of <code class="literal">1-d int array reference</code>;
store <code class="literal">int 3</code> to <code class="literal">index [2]</code> of <code class="literal">1-d int array reference</code>;
store <code class="literal">1-d int array reference</code> to <code class="literal">x</code>;</p></td></tr></table></div></li><li class="listitem"><p class="simpara">Array initialization with non-static values.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Painless">int i = 1;      <a id="CO145-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
long l = 2L;    <a id="CO145-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
float f = 3.0F; <a id="CO145-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
double d = 4.0; <a id="CO145-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
String s = "5"; <a id="CO145-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span>
def array = new def[] {i, l, f*d, s}; <a id="CO145-6"></a><span><img src="images/icons/callouts/6.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO145-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int i</code>;
store <code class="literal">int 1</code> to <code class="literal">i</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO145-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">long l</code>;
store <code class="literal">long 2</code> to <code class="literal">l</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO145-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">float f</code>;
store <code class="literal">float 3.0</code> to <code class="literal">f</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO145-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">double d</code>;
store <code class="literal">double 4.0</code> to <code class="literal">d</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO145-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">String s</code>;
store <code class="literal">String "5"</code> to <code class="literal">s</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO145-6"><span><img src="images/icons/callouts/6.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">def array</code>;
allocate <code class="literal">1-d def array</code> instance with <code class="literal">length [4]</code>
        → <code class="literal">1-d def array reference</code>;
load from <code class="literal">i</code> → <code class="literal">int 1</code>;
implicit cast <code class="literal">int 1</code> to <code class="literal">def</code> → <code class="literal">def</code>;
store <code class="literal">def</code> to <code class="literal">index [0]</code> of <code class="literal">1-d def array reference</code>;
load from <code class="literal">l</code> → <code class="literal">long 2</code>;
implicit cast <code class="literal">long 2</code> to <code class="literal">def</code> → <code class="literal">def</code>;
store <code class="literal">def</code> to <code class="literal">index [1]</code> of <code class="literal">1-d def array reference</code>;
load from <code class="literal">f</code> → <code class="literal">float 3.0</code>;
load from <code class="literal">d</code> → <code class="literal">double 4.0</code>;
promote <code class="literal">float 3.0</code> and <code class="literal">double 4.0</code>: result <code class="literal">double</code>;
implicit cast <code class="literal">float 3.0</code> to <code class="literal">double 3.0</code> → <code class="literal">double 3.0</code>;
multiply <code class="literal">double 3.0</code> and <code class="literal">double 4.0</code> → <code class="literal">double 12.0</code>;
implicit cast <code class="literal">double 12.0</code> to <code class="literal">def</code> → <code class="literal">def</code>;
store <code class="literal">def</code> to <code class="literal">index [2]</code> of <code class="literal">1-d def array reference</code>;
load from <code class="literal">s</code> → <code class="literal">String "5"</code>;
implicit cast <code class="literal">String "5"</code> to <code class="literal">def</code> → <code class="literal">def</code>;
store <code class="literal">def</code> to <code class="literal">index [3]</code> of <code class="literal">1-d def array reference</code>;
implicit cast <code class="literal">1-d int array reference</code> to <code class="literal">def</code> → <code class="literal">def</code>;
store <code class="literal">def</code> to <code class="literal">array</code></p></td></tr></table></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="array-access-operator"></a>Array Access<a href="https://github.com/elastic/elasticsearch/edit/master/docs/painless/painless-lang-spec/painless-operators-array.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Use the <code class="literal">array access operator '[]'</code> to store a value to or load a value from
an <a class="link" href="painless-types.html#array-type" title="Array Type">array type</a> value. Each element of an array type value is
accessed with an <code class="literal">int</code> type value to specify the index to store/load. The range
of elements within an array that are accessible is <code class="literal">[0, size)</code> where size is the
number of elements specified at the time of allocation. Use a negative <code class="literal">int</code>
type value as an index to access an element in reverse from the end of an array
type value within a range of <code class="literal">[-size, -1]</code>.</p><p><span class="strong strong"><strong>Errors</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">If a value other than an <code class="literal">int</code> type value or a value that is castable to an
<code class="literal">int</code> type value is provided as an index.</li><li class="listitem">If an element is accessed outside of the valid ranges.</li></ul></div><p><span class="strong strong"><strong>Grammar</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">brace_access: '[' expression ']'</pre></div><p><span class="strong strong"><strong>Examples</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">Array access with a single-dimensional array.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Painless">int[] x = new int[2]; <a id="CO146-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
x[0] = 2;             <a id="CO146-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
x[1] = 5;             <a id="CO146-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
int y = x[0] + x[1];  <a id="CO146-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
int z = 1;            <a id="CO146-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span>
int i = x[z];         <a id="CO146-6"></a><span><img src="images/icons/callouts/6.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO146-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int[] x</code>;
allocate <code class="literal">1-d int array</code> instance with <code class="literal">length [2]</code>
        → <code class="literal">1-d int array reference</code>;
store <code class="literal">1-d int array reference</code> to <code class="literal">x</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO146-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>load from <code class="literal">x</code> → <code class="literal">1-d int array reference</code>;
store <code class="literal">int 2</code> to <code class="literal">index [0]</code> of <code class="literal">1-d int array reference</code>;</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO146-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>load from <code class="literal">x</code> → <code class="literal">1-d int array reference</code>;
store <code class="literal">int 5</code> to <code class="literal">index [1]</code> of <code class="literal">1-d int array reference</code>;</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO146-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int y</code>;
load from <code class="literal">x</code> → <code class="literal">1-d int array reference</code>;
load from <code class="literal">index [0]</code> of <code class="literal">1-d int array reference</code> → <code class="literal">int 2</code>;
load from <code class="literal">x</code> → <code class="literal">1-d int array reference</code>;
load from <code class="literal">index [1]</code> of <code class="literal">1-d int array reference</code> → <code class="literal">int 5</code>;
add <code class="literal">int 2</code> and <code class="literal">int 5</code> → <code class="literal">int 7</code>;
store <code class="literal">int 7</code> to <code class="literal">y</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO146-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int z</code>;
store <code class="literal">int 1</code> to <code class="literal">z</code>;</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO146-6"><span><img src="images/icons/callouts/6.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int i</code>;
load from <code class="literal">x</code> → <code class="literal">1-d int array reference</code>;
load from <code class="literal">z</code> → <code class="literal">int 1</code>;
load from <code class="literal">index [1]</code> of <code class="literal">1-d int array reference</code> → <code class="literal">int 5</code>;
store <code class="literal">int 5</code> to <code class="literal">i</code>;</p></td></tr></table></div></li><li class="listitem"><p class="simpara">Array access with the <code class="literal">def</code> type.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Painless">def d = new int[2];  <a id="CO147-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
d[0] = 2;            <a id="CO147-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
d[1] = 5;            <a id="CO147-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
def x = d[0] + d[1]; <a id="CO147-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
def y = 1;           <a id="CO147-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span>
def z = d[y];        <a id="CO147-6"></a><span><img src="images/icons/callouts/6.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO147-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">def d</code>;
allocate <code class="literal">1-d int array</code> instance with <code class="literal">length [2]</code>
        → <code class="literal">1-d int array reference</code>;
implicit cast <code class="literal">1-d int array reference</code> to <code class="literal">def</code> → <code class="literal">def</code>;
store <code class="literal">def</code> to <code class="literal">d</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO147-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>load from <code class="literal">d</code> → <code class="literal">def</code>
implicit cast <code class="literal">def</code> to <code class="literal">1-d int array reference</code>
        → <code class="literal">1-d int array reference</code>;
store <code class="literal">int 2</code> to <code class="literal">index [0]</code> of <code class="literal">1-d int array reference</code>;</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO147-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>load from <code class="literal">d</code> → <code class="literal">def</code>
implicit cast <code class="literal">def</code> to <code class="literal">1-d int array reference</code>
        → <code class="literal">1-d int array reference</code>;
store <code class="literal">int 5</code> to <code class="literal">index [1]</code> of <code class="literal">1-d int array reference</code>;</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO147-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int x</code>;
load from <code class="literal">d</code> → <code class="literal">def</code>
implicit cast <code class="literal">def</code> to <code class="literal">1-d int array reference</code>
        → <code class="literal">1-d int array reference</code>;
load from <code class="literal">index [0]</code> of <code class="literal">1-d int array reference</code> → <code class="literal">int 2</code>;
load from <code class="literal">d</code> → <code class="literal">def</code>
implicit cast <code class="literal">def</code> to <code class="literal">1-d int array reference</code>
        → <code class="literal">1-d int array reference</code>;
load from <code class="literal">index [1]</code> of <code class="literal">1-d int array reference</code> → <code class="literal">int 5</code>;
add <code class="literal">int 2</code> and <code class="literal">int 5</code> → <code class="literal">int 7</code>;
implicit cast <code class="literal">int 7</code> to <code class="literal">def</code> → <code class="literal">def</code>;
store <code class="literal">def</code> to <code class="literal">x</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO147-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">def y</code>;
implicit cast <code class="literal">int 1</code> to <code class="literal">def</code> → <code class="literal">def</code>;
store <code class="literal">def</code> to <code class="literal">y</code>;</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO147-6"><span><img src="images/icons/callouts/6.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int i</code>;
load from <code class="literal">d</code> → <code class="literal">def</code>
implicit cast <code class="literal">def</code> to <code class="literal">1-d int array reference</code>
        → <code class="literal">1-d int array reference</code>;
load from <code class="literal">y</code> → <code class="literal">def</code>;
implicit cast <code class="literal">def</code> to <code class="literal">int 1</code> → <code class="literal">int 1</code>;
load from <code class="literal">index [1]</code> of <code class="literal">1-d int array reference</code> → <code class="literal">int 5</code>;
implicit cast <code class="literal">int 5</code> to <code class="literal">def</code>;
store <code class="literal">def</code> to <code class="literal">z</code>;</p></td></tr></table></div></li><li class="listitem"><p class="simpara">Array access with a multi-dimensional array.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Painless">int[][][] ia3 = new int[2][3][4]; <a id="CO148-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
ia3[1][2][3] = 99;                <a id="CO148-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
int i = ia3[1][2][3];             <a id="CO148-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO148-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int[][][] ia</code>;
allocate <code class="literal">3-d int array</code> instance with length <code class="literal">[2, 3, 4]</code>
        → <code class="literal">3-d int array reference</code>;
store <code class="literal">3-d int array reference</code> to <code class="literal">ia3</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO148-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>load from <code class="literal">ia3</code> → <code class="literal">3-d int array reference</code>;
store <code class="literal">int 99</code> to <code class="literal">index [1, 2, 3]</code> of <code class="literal">3-d int array reference</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO148-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int i</code>;
load from <code class="literal">ia3</code> → <code class="literal">3-d int array reference</code>;
load from <code class="literal">index [1, 2, 3]</code> of <code class="literal">3-d int array reference</code> → <code class="literal">int 99</code>;
store <code class="literal">int 99</code> to <code class="literal">i</code></p></td></tr></table></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="array-length-operator"></a>Array Length<a href="https://github.com/elastic/elasticsearch/edit/master/docs/painless/painless-lang-spec/painless-operators-array.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>An array type value contains a read-only member field named <code class="literal">length</code>. The
<code class="literal">length</code> field stores the size of the array as an <code class="literal">int</code> type value where size is
the number of elements specified at the time of allocation. Use the
<a class="link" href="painless-operators-reference.html#field-access-operator" title="Field Access">field access operator</a> to load the field <code class="literal">length</code>
from an array type value.</p><p><span class="strong strong"><strong>Examples</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">Access the <code class="literal">length</code> field.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Painless">int[] x = new int[10]; <a id="CO149-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
int l = x.length;      <a id="CO149-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO149-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int[] x</code>;
allocate <code class="literal">1-d int array</code> instance with <code class="literal">length [2]</code>
        → <code class="literal">1-d int array reference</code>;
store <code class="literal">1-d int array reference</code> to <code class="literal">x</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO149-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int l</code>;
load <code class="literal">x</code> → <code class="literal">1-d int array reference</code>;
load <code class="literal">length</code> from <code class="literal">1-d int array reference</code> → <code class="literal">int 10</code>;
store <code class="literal">int 10</code> to <code class="literal">l</code>;</p></td></tr></table></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="new-array-operator"></a>New Array<a href="https://github.com/elastic/elasticsearch/edit/master/docs/painless/painless-lang-spec/painless-operators-array.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Use the <code class="literal">new array operator 'new []'</code> to allocate an array type instance to
the heap. Specify the element type following the <code class="literal">new</code> token. Specify each
dimension with the <code class="literal">[</code> and <code class="literal">]</code> tokens following the element type name. The size
of each dimension is specified by an <code class="literal">int</code> type value in between each set of <code class="literal">[</code>
and <code class="literal">]</code> tokens.</p><p><span class="strong strong"><strong>Errors</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">If a value other than an <code class="literal">int</code> type value or a value that is castable to an
<code class="literal">int</code> type value is specified for a dimension’s size.</li></ul></div><p><span class="strong strong"><strong>Grammar</strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ANTLR4">new_array: 'new' TYPE ('[' expression ']')+;</pre></div><p><span class="strong strong"><strong>Examples</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">Allocation of different array types.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-Painless">int[] x = new int[5];    <a id="CO150-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
x = new int[10];         <a id="CO150-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
int y = 2;               <a id="CO150-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
def z = new def[y][y*2]; <a id="CO150-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO150-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int[] x</code>;
allocate <code class="literal">1-d int array</code> instance with <code class="literal">length [5]</code>
        → <code class="literal">1-d int array reference</code>;
store <code class="literal">1-d int array reference</code> to <code class="literal">x</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO150-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>allocate <code class="literal">1-d int array</code> instance with <code class="literal">length [10]</code>
        → <code class="literal">1-d int array reference</code>;
store <code class="literal">1-d int array reference</code> to <code class="literal">x</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO150-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">int y</code>;
store <code class="literal">int 2</code> to <code class="literal">y</code>;</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO150-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>declare <code class="literal">def z</code>;
load from <code class="literal">y</code> → <code class="literal">int 2 @0</code>;
load from <code class="literal">y</code> → <code class="literal">int 2 @1</code>;
multiply <code class="literal">int 2 @1</code> by <code class="literal">int 2 @2</code> → <code class="literal">int 4</code>;
allocate <code class="literal">2-d int array</code> instance with length <code class="literal">[2, 4]</code>
        → <code class="literal">2-d int array reference</code>;
implicit cast <code class="literal">2-d int array reference</code> to <code class="literal">def</code> → <code class="literal">def</code>;
store <code class="literal">def</code> to <code class="literal">z</code>;</p></td></tr></table></div></li></ul></div></div></div><div class="navfooter"><span class="prev"><a href="painless-operators-reference.html">
              « 
              Operators: Reference</a>
           
        </span><span class="next">
           
          <a href="painless-statements.html">Statements
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
