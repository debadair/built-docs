<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Enriching Data with Lookups
        | Logstash Reference [7.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Logstash Reference [7.3]" /><link rel="up" href="transformation.html" title="Transforming Data" /><link rel="prev" href="field-extraction.html" title="Extracting Fields and Wrangling Data" /><link rel="next" href="deploying-and-scaling.html" title="Deploying and Scaling Logstash" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Logstash/Reference/7.3" /><meta name="DC.subject" content="Logstash" /><meta name="DC.identifier" content="7.3" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Logstash Reference
      [7.3]
    </a></span> » <span class="breadcrumb-link"><a href="transformation.html">Transforming Data</a></span> » <span class="breadcrumb-node">Enriching Data with Lookups</span></div><div class="navheader"><span class="prev"><a href="field-extraction.html">
              « 
              Extracting Fields and Wrangling Data</a>
           
        </span><span class="next">
           
          <a href="deploying-and-scaling.html">Deploying and Scaling Logstash
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="lookup-enrichment"></a>Enriching Data with Lookups<a href="https://github.com/elastic/logstash/edit/7.x/docs/static/transforming-data.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>These plugins can help you enrich data with
additional info, such as GeoIP and user agent info:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="link" href="lookup-enrichment.html#dns-def">dns filter</a>
</li><li class="listitem">
<a class="link" href="lookup-enrichment.html#es-def">elasticsearch filter</a>
</li><li class="listitem">
<a class="link" href="lookup-enrichment.html#geoip-def">geoip filter</a>
</li><li class="listitem">
<a class="link" href="lookup-enrichment.html#http-def">http filter</a>
</li><li class="listitem">
<a class="link" href="lookup-enrichment.html#jdbc-static-def">jdbc_static filter</a>
</li><li class="listitem">
<a class="link" href="lookup-enrichment.html#jdbc-stream-def">jdbc_streaming filter</a>
</li><li class="listitem">
<a class="link" href="lookup-enrichment.html#memcached-def">memcached filter</a>
</li><li class="listitem">
<a class="link" href="lookup-enrichment.html#translate-def">translate filter</a>
</li><li class="listitem">
<a class="link" href="lookup-enrichment.html#useragent-def">useragent filter</a>
</li></ul></div><h3><a id="lookup-plugins"></a>Lookup plugins<a href="https://github.com/elastic/logstash/edit/7.x/docs/static/transforming-data.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a id="dns-def"></a>dns filter
</span></dt><dd><p class="simpara">
The <a class="link" href="plugins-filters-dns.html" title="Dns filter plugin">dns filter plugin</a> performs a standard or reverse DNS lookup.
</p><p class="simpara">The following config performs a reverse lookup on the address in the
<code class="literal">source_host</code> field and replaces it with the domain name:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">filter {
  dns {
    reverse =&gt; [ "source_host" ]
    action =&gt; "replace"
  }
}</pre></div></dd><dt><span class="term">
<a id="es-def"></a>elasticsearch filter
</span></dt><dd><p class="simpara">
The <a class="link" href="plugins-filters-elasticsearch.html" title="Elasticsearch filter plugin">elasticsearch filter</a> copies fields from previous log events in Elasticsearch to current events.
</p><p class="simpara">The following config shows a complete example of how this filter might
be used.  Whenever Logstash receives an "end" event, it uses this Elasticsearch
filter to find the matching "start" event based on some operation identifier.
Then it copies the <code class="literal">@timestamp</code> field from the "start" event into a new field on
the "end" event.  Finally, using a combination of the date filter and the
ruby filter, the code in the example calculates the time duration in hours
between the two events.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">      if [type] == "end" {
         elasticsearch {
            hosts =&gt; ["es-server"]
            query =&gt; "type:start AND operation:%{[opid]}"
            fields =&gt; { "@timestamp" =&gt; "started" }
         }
         date {
            match =&gt; ["[started]", "ISO8601"]
            target =&gt; "[started]"
         }
         ruby {
            code =&gt; 'event.set("duration_hrs", (event.get("@timestamp") - event.get("started")) / 3600) rescue nil'
        }
      }</pre></div></dd><dt><span class="term">
<a id="geoip-def"></a>geoip filter
</span></dt><dd><p class="simpara">
The <a class="link" href="plugins-filters-geoip.html" title="Geoip filter plugin">geoip filter</a> adds geographical information about the location of IP addresses. For example:
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">filter {
  geoip {
    source =&gt; "clientip"
  }
}</pre></div><p class="simpara">After the geoip filter is applied, the event will be enriched with geoip fields.
For example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">filter {
  geoip {
    source =&gt; "clientip"
  }
}</pre></div></dd><dt><span class="term">
<a id="http-def"></a>http filter
</span></dt><dd>
The <a class="link" href="plugins-filters-http.html" title="HTTP filter plugin">http filter</a> integrates with external web
services/REST APIs, and enables lookup enrichment against any HTTP service or
endpoint. This plugin is well suited for many enrichment use cases, such as
social APIs, sentiment APIs, security feed APIs, and business service APIs.



















</dd><dt><span class="term">
<a id="jdbc-static-def"></a>jdbc_static filter
</span></dt><dd><p class="simpara">
The <a class="link" href="plugins-filters-jdbc_static.html" title="Jdbc_static filter plugin">jdbc_static filter</a> enriches events with data pre-loaded from a remote database.
</p><p class="simpara">The following example fetches data from a remote database, caches it in a local
database, and uses lookups to enrich events with data cached in the local
database.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">filter {
  jdbc_static {
    loaders =&gt; [ <a id="CO16-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
      {
        id =&gt; "remote-servers"
        query =&gt; "select ip, descr from ref.local_ips order by ip"
        local_table =&gt; "servers"
      },
      {
        id =&gt; "remote-users"
        query =&gt; "select firstname, lastname, userid from ref.local_users order by userid"
        local_table =&gt; "users"
      }
    ]
    local_db_objects =&gt; [ <a id="CO16-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
      {
        name =&gt; "servers"
        index_columns =&gt; ["ip"]
        columns =&gt; [
          ["ip", "varchar(15)"],
          ["descr", "varchar(255)"]
        ]
      },
      {
        name =&gt; "users"
        index_columns =&gt; ["userid"]
        columns =&gt; [
          ["firstname", "varchar(255)"],
          ["lastname", "varchar(255)"],
          ["userid", "int"]
        ]
      }
    ]
    local_lookups =&gt; [ <a id="CO16-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span>
      {
        id =&gt; "local-servers"
        query =&gt; "select descr as description from servers WHERE ip = :ip"
        parameters =&gt; {ip =&gt; "[from_ip]"}
        target =&gt; "server"
      },
      {
        id =&gt; "local-users"
        query =&gt; "select firstname, lastname from users WHERE userid = :id"
        parameters =&gt; {id =&gt; "[loggedin_userid]"}
        target =&gt; "user" <a id="CO16-4"></a><span><img src="images/icons/callouts/4.png" alt="" /></span>
      }
    ]
    # using add_field here to add &amp; rename values to the event root
    add_field =&gt; { server_name =&gt; "%{[server][0][description]}" }
    add_field =&gt; { user_firstname =&gt; "%{[user][0][firstname]}" } <a id="CO16-5"></a><span><img src="images/icons/callouts/5.png" alt="" /></span>
    add_field =&gt; { user_lastname =&gt; "%{[user][0][lastname]}" }
    remove_field =&gt; ["server", "user"]
    jdbc_user =&gt; "logstash"
    jdbc_password =&gt; "example"
    jdbc_driver_class =&gt; "org.postgresql.Driver"
    jdbc_driver_library =&gt; "/tmp/logstash/vendor/postgresql-42.1.4.jar"
    jdbc_connection_string =&gt; "jdbc:postgresql://remotedb:5432/ls_test_2"
  }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO16-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Queries an external database to fetch the dataset that will be cached
locally.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO16-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Defines the columns, types, and indexes used to build the local database
structure. The column names and types should match the external database.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO16-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Performs lookup queries on the local database to enrich the events.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO16-4"><span><img src="images/icons/callouts/4.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Specifies the event field that will store the looked-up data. If the lookup
returns multiple columns, the data is stored as a JSON object within the field.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO16-5"><span><img src="images/icons/callouts/5.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Takes data from the JSON object and stores it in top-level event fields for
easier analysis in Kibana.
</p></td></tr></table></div></dd><dt><span class="term">
<a id="jdbc-stream-def"></a>jdbc_streaming filter
</span></dt><dd><p class="simpara">
The <a class="link" href="plugins-filters-jdbc_streaming.html" title="Jdbc_streaming filter plugin">jdbc_streaming filter</a> enriches events with database data.
</p><p class="simpara">The following example executes a SQL query and stores the result set in a field
called <code class="literal">country_details</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">filter {
  jdbc_streaming {
    jdbc_driver_library =&gt; "/path/to/mysql-connector-java-5.1.34-bin.jar"
    jdbc_driver_class =&gt; "com.mysql.jdbc.Driver"
    jdbc_connection_string =&gt; "jdbc:mysql://localhost:3306/mydatabase"
    jdbc_user =&gt; "me"
    jdbc_password =&gt; "secret"
    statement =&gt; "select * from WORLD.COUNTRY WHERE Code = :code"
    parameters =&gt; { "code" =&gt; "country_code"}
    target =&gt; "country_details"
  }
}</pre></div></dd><dt><span class="term">
<a id="memcached-def"></a>memcached filter
</span></dt><dd>
The <a class="link" href="plugins-filters-memcached.html" title="Memcached filter plugin">memcached filter</a> enables key/value lookup
enrichment against a Memcached object caching system.
It supports both read (GET) and write (SET) operations. It is a notable addition
for security analytics use cases.
</dd><dt><span class="term">
<a id="translate-def"></a>translate filter
</span></dt><dd><p class="simpara">
The <a class="link" href="plugins-filters-translate.html" title="Translate filter plugin">translate filter</a> replaces field contents based on replacement values specified in a hash or file.
Currently supports these file types: YAML, JSON, and CSV.
</p><p class="simpara">The following example takes the value of the <code class="literal">response_code</code> field, translates
it to a description based on the values specified in the dictionary, and then
removes the <code class="literal">response_code</code> field from the event:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">filter {
  translate {
    field =&gt; "response_code"
    destination =&gt; "http_response"
    dictionary =&gt; {
      "200" =&gt; "OK"
      "403" =&gt; "Forbidden"
      "404" =&gt; "Not Found"
      "408" =&gt; "Request Timeout"
    }
    remove_field =&gt; "response_code"
  }
}</pre></div></dd><dt><span class="term">
<a id="useragent-def"></a>useragent filter
</span></dt><dd><p class="simpara">
The <a class="link" href="plugins-filters-useragent.html" title="Useragent filter plugin">useragent filter</a> parses user agent strings into fields.
</p><p class="simpara">The following example takes the user agent string in the <code class="literal">agent</code> field, parses
it into user agent fields, and adds the user agent fields to a new field called
<code class="literal">user_agent</code>. It also removes the original <code class="literal">agent</code> field:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">filter {
  useragent {
    source =&gt; "agent"
    target =&gt; "user_agent"
    remove_field =&gt; "agent"
  }
}</pre></div><p class="simpara">After the filter is applied, the event will be enriched with user agent fields.
For example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-json">        "user_agent": {
          "os": "Mac OS X 10.12",
          "major": "50",
          "minor": "0",
          "os_minor": "12",
          "os_major": "10",
          "name": "Firefox",
          "os_name": "Mac OS X",
          "device": "Other"
        }</pre></div></dd></dl></div></div><div class="navfooter"><span class="prev"><a href="field-extraction.html">
              « 
              Extracting Fields and Wrangling Data</a>
           
        </span><span class="next">
           
          <a href="deploying-and-scaling.html">Deploying and Scaling Logstash
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
